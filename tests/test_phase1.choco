//////////////////////////////////////
// ChocoLang 1.0.0 - Chocolate Delight
// Phase / Version 1 Test File
// Made by Camila "Mocha" Rose
//////////////////////////////////////

puts "=== Choco Language - Phase 1 Demo ===";
puts "";

// ============================================
// 1. Functions with Parameters and Returns
// ============================================
puts "=== Functions ===";

fn add(a, b) {
    return a + b;
}

fn multiply(x, y) {
    return x * y;
}

fn greet(name) {
    return "Hello, #{name}!";
}

let sum = add(10, 20);
let product = multiply(5, 6);
let greeting = greet("Choco");

puts sum;
puts product;
puts greeting;

// Factorial function (recursive-style with loop)
fn factorial(n) {
    let result = 1;
    let i = 1;
    while i <= n {
        result = result * i;
        i = i + 1;
    }
    return result;
}

puts "Factorial of 5:";
puts factorial(5);

// ============================================
// 2. Arrays and Array Operations
// ============================================
puts "";
puts "=== Arrays ===";

let numbers = [1, 2, 3, 4, 5];
let fruits = ["apple", "banana", "cherry"];
let mixed = [42, "hello", true, 3.14];

puts "Numbers array:";
puts numbers;

puts "Fruits array:";
puts fruits;

puts "Mixed array:";
puts mixed;

// Array indexing
puts "First number:";
puts numbers[0];

puts "Second fruit:";
puts fruits[1];

puts "Mixed element:";
puts mixed[2];

// Working with arrays
let scores = [85, 92, 78, 95, 88];
puts "Test scores:";
puts scores;

// ============================================
// 3. For Loops with Ranges
// ============================================
puts "";
puts "=== For Loops ===";

puts "Count from 0 to 4:";
for i in 0..5 {
    puts i;
}

puts "Even numbers 0-10:";
for i in 0..6 {
    let even = i * 2;
    puts even;
}

puts "Sum using for loop:";
let total = 0;
for i in 1..11 {
    total = total + i;
}
puts total;

// ============================================
// 4. String Interpolation
// ============================================
puts "";
puts "=== String Interpolation ===";

let name = "Alice";
let age = 25;
let city = "Wonderland";

let message = "My name is #{name} and I am #{age} years old.";
puts message;

let location = "I live in #{city}!";
puts location;

fn introduce(person, years) {
    let intro = "This is #{person}, who is #{years} years old.";
    return intro;
}

puts introduce("Bob", 30);

// ============================================
// 5. Logical Operators (&&, ||, !)
// ============================================
puts "";
puts "=== Logical Operators ===";

let isAdult = true;
let hasLicense = true;
let canDrive = isAdult && hasLicense;

if canDrive {
    puts "Can drive: YES";
}

let isSunny = false;
let isWarm = true;
let niceWeather = isSunny || isWarm;

if niceWeather {
    puts "Weather is nice!";
}

let isRaining = false;
let notRaining = !isRaining;

if notRaining {
    puts "It's not raining!";
}

// Complex logical expressions
let x = 10;
let y = 20;
let z = 15;

if x < y && y > z {
    puts "x < y AND y > z";
}

if x > 5 || z < 10 {
    puts "x > 5 OR z < 10";
}

// ============================================
// 6. Modulo Operator (%)
// ============================================
puts "";
puts "=== Modulo Operator ===";

puts "Even or Odd check:";
for i in 0..10 {
    let remainder = i % 2;
    if remainder == 0 {
        let msg = "#{i} is even";
        puts msg;
    } else {
        let msg = "#{i} is odd";
        puts msg;
    }
}

// ============================================
// 7. Combined Example: FizzBuzz
// ============================================
puts "";
puts "=== FizzBuzz (1-20) ===";

for i in 1..21 {
    let by3 = i % 3;
    let by5 = i % 5;
    
    if by3 == 0 && by5 == 0 {
        puts "FizzBuzz";
    } else {
        if by3 == 0 {
            puts "Fizz";
        } else {
            if by5 == 0 {
                puts "Buzz";
            } else {
                puts i;
            }
        }
    }
}

// ============================================
// 8. Function with Array Parameter
// ============================================
puts "";
puts "=== Functions with Arrays ===";

fn sumArray(arr) {
    let sum = 0;
    let i = 0;
    while i < 5 {
        sum = sum + arr[i];
        i = i + 1;
    }
    return sum;
}

let myNumbers = [10, 20, 30, 40, 50];
let arraySum = sumArray(myNumbers);
puts "Sum of array:";
puts arraySum;

// ============================================
// 9. Nested Functions and Complex Logic
// ============================================
puts "";
puts "=== Complex Example ===";

fn isPrime(n) {
    if n <= 1 {
        return false;
    }
    
    let i = 2;
    while i < n {
        let remainder = n % i;
        if remainder == 0 {
            return false;
        }
        i = i + 1;
    }
    return true;
}

puts "Prime numbers 2-20:";
for i in 2..21 {
    let prime = isPrime(i);
    if prime {
        puts i;
    }
}

// ============================================
// 10. Advanced Function Example
// ============================================
puts "";
puts "=== Advanced Functions ===";

fn fibonacci(n) {
    if n <= 1 {
        return n;
    }
    
    let a = 0;
    let b = 1;
    let i = 2;
    
    while i <= n {
        let temp = a + b;
        a = b;
        b = temp;
        i = i + 1;
    }
    
    return b;
}

puts "Fibonacci sequence (first 10):";
for i in 0..10 {
    let fib = fibonacci(i);
    puts fib;
}

// ============================================
// 11. String Concatenation
// ============================================
puts "";
puts "=== String Operations ===";

let first = "Hello";
let second = "World";
let combined = first + " " + second;
puts combined;

let prefix = "Number: ";
let number = 42;
// Note: Direct number to string in interpolation
let result = "#{prefix}#{number}";
puts result;

// ============================================
// 12. Nested Loops with Arrays
// ============================================
puts "";
puts "=== Nested Loops ===";

puts "Multiplication table (3x3):";
for i in 1..4 {
    for j in 1..4 {
        let product = i * j;
        puts product;
    }
}

puts "";
puts "=== Phase 1 Demo Complete! ===";
puts "Features: Functions, Arrays, For Loops, String Interpolation, Logical Operators";